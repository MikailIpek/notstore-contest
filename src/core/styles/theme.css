/* ==========================================================================
   GLOBAL THEME & RESET - Tek kaynak CSS dosyası
   ========================================================================== */

/* Local Fonts */
@font-face {
  font-family: 'SF Pro Rounded';
  src:
    url('/fonts/SF Pro Rounded.woff2') format('woff2'),
    url('/fonts/SF Pro Rounded.woff') format('woff'),
    url('/fonts/SF Pro Rounded.ttf') format('truetype');
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}

/* CSS Reset */
*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* Telegram WebApp Tema Değişkenleri */
:root {
  /* Telegram tema renkleri */
  --tg-theme-bg-color: #000000;
  --tg-theme-text-color: #ffffff;
  --tg-theme-hint-color: rgba(255, 255, 255, 0.5);
  --tg-theme-link-color: #2481cc;
  --tg-theme-button-color: #2481cc;
  --tg-theme-button-text-color: #ffffff;

  /* Safe area insets - env() ile iOS notch desteği */
  --tg-safe-area-inset-top: env(safe-area-inset-top);
  --tg-safe-area-inset-right: env(safe-area-inset-right);
  --tg-safe-area-inset-bottom: env(safe-area-inset-bottom);
  --tg-safe-area-inset-left: env(safe-area-inset-left);

  /* Dinamik viewport yüksekliği */
  --tg-viewport-height: 100vh; /* başlangıç değeri */

  /* Uygulama renkleri */
  --primary-color: #646cff;
  --primary-color-hover: #535bf2;
  --text-color: var(--tg-theme-text-color);
  --background-color: var(--tg-theme-bg-color);
  --border-radius: 8px;

  /* Skeleton renkleri */
  --skeleton-base-color: rgba(255, 255, 255, 0.05);
  --skeleton-highlight-color: rgba(255, 255, 255, 0.08);

  /* Typography */
  --font-family: 'SF Pro', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-family-rounded: 'SF Pro Rounded', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-size-base: 16px;
  --font-size-lg: 26px;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 590;

  /* Spacing */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 12px;
  --spacing-lg: 16px;
  --spacing-xl: 20px;

  /* Layout */
  --container-max-width: 390px;
}

/* Base HTML Elements */
html,
body {
  height: 100%;
  font-family: var(--font-family);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-normal);
  line-height: 1.5;
  color: var(--text-color);
  background-color: var(--background-color);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
  max-width: var(--container-max-width); /* iOS Telegram'da yatay scroll kaçmasını engeller */
  margin: 0 auto;
  /* Telegram safe area inset paddingleri */
  padding-top: var(--tg-safe-area-inset-top, 0);
  padding-left: var(--tg-safe-area-inset-left, 0);
  padding-right: var(--tg-safe-area-inset-right, 0);
  padding-bottom: var(--tg-safe-area-inset-bottom, 0);
}

#root {
  height: 100%;
  width: 100%;
  max-width: var(--container-max-width);
  margin: 0 auto;
  background: var(--background-color);
  color: var(--text-color);
}

/* Button Reset */
button {
  font-family: inherit;
  cursor: pointer;
  border: none;
  background: transparent;
  color: inherit;
}

/* Link Reset */
a {
  color: inherit;
  text-decoration: none;
}

/* Utility Classes */
.flex {
  display: flex;
}

.flex-column {
  flex-direction: column;
}

.flex-center {
  justify-content: center;
  align-items: center;
}

.gap-xs {
  gap: var(--spacing-xs);
}
.gap-sm {
  gap: var(--spacing-sm);
}
.gap-md {
  gap: var(--spacing-md);
}
.gap-lg {
  gap: var(--spacing-lg);
}

.p-xs {
  padding: var(--spacing-xs);
}
.p-sm {
  padding: var(--spacing-sm);
}
.p-md {
  padding: var(--spacing-md);
}
.p-lg {
  padding: var(--spacing-lg);
}

/* Safe area ile ilgili yardımcı sınıflar */
.tg-safe-pad-top {
  padding-top: var(--tg-safe-area-inset-top, 0);
}

.tg-safe-pad-bottom {
  padding-bottom: var(--tg-safe-area-inset-bottom, 0);
}

.tg-safe-pad-left {
  padding-left: var(--tg-safe-area-inset-left, 0);
}

.tg-safe-pad-right {
  padding-right: var(--tg-safe-area-inset-right, 0);
}

/* Safe area yardımcı sınıfları */
.tg-safe-pad-top {
  padding-top: var(--tg-safe-area-inset-top);
}
.tg-safe-pad-right {
  padding-right: var(--tg-safe-area-inset-right);
}
.tg-safe-pad-bottom {
  padding-bottom: var(--tg-safe-area-inset-bottom);
}
.tg-safe-pad-left {
  padding-left: var(--tg-safe-area-inset-left);
}

.tg-safe-height-top {
  height: var(--tg-safe-area-inset-top);
}
.tg-safe-height-bot {
  height: var(--tg-safe-area-inset-bottom);
}

.tg-viewport-height {
  height: var(--tg-viewport-height);
}

/* Responsive */
@media (max-width: 390px) {
  #root {
    max-width: 100%;
  }
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in {
  animation: fadeIn 0.3s ease-out;
}

/* ==========================================================================
   TON CONNECT MODAL OVERLAY STYLING - Sepet modalındaki blur yapısını birebir kopyalama
   ========================================================================== */

/* TON Connect UI modal overlay - tüm olası selektörler */
tc-modal,
tc-modal-backdrop,
.tc-modal,
.tc-modal-backdrop,
.tonconnect-modal,
.tonconnect-modal-backdrop,
.tonconnect-ui-modal,
.tonconnect-ui-modal-backdrop,
[data-tc-modal],
[data-tc-modal-backdrop],
[data-tonconnect-modal],
[data-tonconnect-modal-backdrop],
div[class*="modal"][class*="backdrop"],
div[class*="tonconnect"][class*="backdrop"],
div[class*="tc-"][class*="backdrop"],
/* Shadow DOM içindeki elementler için */
:host(.tc-modal),
:host(.tonconnect-modal) {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  background-color: rgba(0, 0, 0, 0.7) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  z-index: 1000 !important;
  display: flex !important;
  justify-content: center !important;
  align-items: flex-end !important;
}

/* TON Connect modal container için ek stiller */
tc-modal > *,
.tc-modal > *,
.tonconnect-modal > *,
.tonconnect-ui-modal > * {
  position: relative !important;
  z-index: 1001 !important;
}

/* Genel modal backdrop override - en güçlü selektör */
body > div[style*='position: fixed'][style*='z-index'],
#root ~ div[style*='position: fixed'][style*='z-index'],
div[style*='position: fixed'][style*='top: 0'][style*='left: 0'] {
  background-color: rgba(0, 0, 0, 0.7) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
}

/* ==========================================================================
   TELEGRAM-SPECIFIC SAFE AREA STYLING - Sadece Telegram içinde aktif
   ========================================================================== */

/* Sadece Telegram ortamında aktif olan kurallar - localhost'ta hiçbir etkisi yok */
.tg-app {
  /* Telegram header'ının altından başla - web'de 0 kalır */
  padding-top: max(env(safe-area-inset-top, 0px), var(--tg-safe-area-inset-top, 0px));

  /* Home indicator'ın üzerinde kal - web'de 0 kalır */
  padding-bottom: max(0px, env(safe-area-inset-bottom, 0px), var(--tg-safe-area-inset-bottom, 0px));
}

/* TabBar ve Footer için Telegram-specific kurallar */
.tg-app .tabBar,
.tg-app .footer {
  /* Mevcut padding'i koruyarak safe area ekle */
  padding-block-end: max(
    8px,
    /* mevcut tasarım boşluğu */ env(safe-area-inset-bottom, 0px),
    var(--tg-safe-area-inset-bottom, 0px)
  );
}

/* Home indicator arka plan efekti - sadece Telegram'da */
.tg-app .footer::after,
.tg-app .tabBar::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: max(env(safe-area-inset-bottom, 0px), var(--tg-safe-area-inset-bottom, 0px));
  background: #000000; /* component arka planı ile aynı */
  pointer-events: none; /* gesture bar'ın çalışmasını engelleme */
}
